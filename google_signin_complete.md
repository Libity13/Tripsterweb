# тЬЕ Google Sign In - р╣Ар╕кр╕гр╣Зр╕Ир╕кр╕бр╕Ър╕╣р╕гр╕Ур╣М!

## ЁЯОЙ **р╕кр╕Цр╕▓р╕Щр╕░р╕Ыр╕▒р╕Ир╕Ир╕╕р╕Ър╕▒р╕Щ:**

### **тЬЕ р╕Чр╕│р╕Зр╕▓р╕Щр╣Др╕Фр╣Йр╣Бр╕ер╣Йр╕з:**
1. **Google Sign In** - р╣Ар╕Вр╣Йр╕▓р╕кр╕╣р╣Ир╕гр╕░р╕Ър╕Ър╕Фр╣Йр╕зр╕в Google р╣Др╕Фр╣Йр╣Бр╕ер╣Йр╕з
2. **Guest Migration** - р╕вр╣Йр╕▓р╕вр╕Вр╣Йр╕нр╕бр╕╣р╕ер╕Ир╕▓р╕Б guest р╣Ар╕Ыр╣Зр╕Щ user р╕кр╕│р╣Ар╕гр╣Зр╕И (21 trips)
3. **р╕лр╕Щр╣Йр╕▓р╣Бр╕гр╕Бр╕бр╕╡ Google Sign In** - р╣Бр╕Бр╣Йр╣Др╕Вр╣Бр╕ер╣Йр╕з
4. **Auth Callback** - р╕Ир╕▒р╕Фр╕Бр╕▓р╕г OAuth redirect р╣Др╕Фр╣Йр╣Бр╕ер╣Йр╕з
5. **Error Handling** - р╕Ир╕▒р╕Фр╕Бр╕▓р╕г chat_sessions table р╕Чр╕╡р╣Ир╣Др╕бр╣Ир╕бр╕╡

## ЁЯФз **р╕Бр╕▓р╕гр╣Бр╕Бр╣Йр╣Др╕Вр╕Чр╕╡р╣Ир╕Чр╕│:**

### **1. р╣Бр╕Бр╣Йр╣Др╕Вр╕лр╕Щр╣Йр╕▓р╣Бр╕гр╕Б (Index.tsx):**
- тЬЕ **р╣Ар╕Юр╕┤р╣Ир╕б LoginModal import** - р╣Гр╕Кр╣Й component р╕Чр╕╡р╣Ир╕бр╕╡ Google Sign In
- тЬЕ **р╣Бр╕Чр╕Щр╕Чр╕╡р╣И Login Modal р╣Бр╕Ър╕Ър╣Ар╕Бр╣Ир╕▓** - р╕Фр╣Йр╕зр╕в LoginModal component
- тЬЕ **р╣Ар╕Юр╕┤р╣Ир╕б Google Sign In buttons** - р╣Гр╕Щр╕лр╕Щр╣Йр╕▓р╣Бр╕гр╕Б

### **2. р╣Бр╕Бр╣Йр╣Др╕В AuthService:**
- тЬЕ **р╣Ар╕Юр╕┤р╣Ир╕б try-catch** р╕кр╕│р╕лр╕гр╕▒р╕Ъ chat_sessions table
- тЬЕ **р╕Ир╕▒р╕Фр╕Бр╕▓р╕г error** р╣Ар╕бр╕╖р╣Ир╕н table р╣Др╕бр╣Ир╕бр╕╡
- тЬЕ **Guest Migration** р╕Чр╕│р╕Зр╕▓р╕Щр╣Др╕Фр╣Йр╕Ыр╕Бр╕Хр╕┤

## ЁЯзк **р╕Бр╕▓р╕гр╕Чр╕Фр╕кр╕нр╕Ъ:**

### **1. р╕Чр╕Фр╕кр╕нр╕Ър╕лр╕Щр╣Йр╕▓р╣Бр╕гр╕Б:**
1. р╣Др╕Ыр╕Чр╕╡р╣Ир╕лр╕Щр╣Йр╕▓р╣Бр╕гр╕Б (`/`)
2. р╕Бр╕Фр╕Ыр╕╕р╣Ир╕б **"р╣Ар╕Вр╣Йр╕▓р╕кр╕╣р╣Ир╕гр╕░р╕Ър╕Ъ"**
3. **р╕Хр╕гр╕зр╕Ир╕кр╕нр╕Ъ:** р╕бр╕╡р╕Ыр╕╕р╣Ир╕б "р╣Ар╕Вр╣Йр╕▓р╕кр╕╣р╣Ир╕гр╕░р╕Ър╕Ър╕Фр╣Йр╕зр╕в Google" р╣Бр╕ер╕░ "р╕кр╕бр╕▒р╕Др╕гр╕кр╕бр╕▓р╕Кр╕┤р╕Бр╕Фр╣Йр╕зр╕в Google"
4. **р╕Чр╕Фр╕кр╕нр╕Ъ:** р╕Бр╕Фр╕Ыр╕╕р╣Ир╕б Google Sign In
5. **р╕Хр╕гр╕зр╕Ир╕кр╕нр╕Ъ:** redirect р╣Др╕Ы Google OAuth

### **2. р╕Чр╕Фр╕кр╕нр╕Ъ Guest Migration:**
1. р╕кр╕гр╣Йр╕▓р╕Зр╕Чр╕гр╕┤р╕Ыр╣Гр╕лр╕бр╣Ир╣Гр╕Щр╣Вр╕лр╕бр╕Ф guest
2. р╣Ар╕Вр╣Йр╕▓р╕кр╕╣р╣Ир╕гр╕░р╕Ър╕Ър╕Фр╣Йр╕зр╕в Google
3. **р╕Хр╕гр╕зр╕Ир╕кр╕нр╕Ъ:** р╕Чр╕гр╕┤р╕Ыр╕Цр╕╣р╕Бр╕вр╣Йр╕▓р╕вр╕бр╕▓р╕Чр╕╡р╣И user account
4. **р╕Хр╕гр╕зр╕Ир╕кр╕нр╕Ъ:** р╣Др╕бр╣Ир╕бр╕╡ error р╣Ар╕Бр╕╡р╣Ир╕вр╕зр╕Бр╕▒р╕Ъ chat_sessions

## ЁЯУК **р╕Ьр╕ер╕ер╕▒р╕Юр╕Шр╣Мр╕Ир╕▓р╕Б Log:**

### **тЬЕ р╕кр╕│р╣Ар╕гр╣Зр╕И:**
- **Google Sign In:** user_id: `1a715f1e-6a6e-44b6-947d-da114b456103`
- **Guest Migration:** р╕вр╣Йр╕▓р╕в 21 trips р╕кр╕│р╣Ар╕гр╣Зр╕И
- **Trip Loading:** р╣Вр╕лр╕ер╕Фр╕Чр╕гр╕┤р╕Ыр╣Др╕Фр╣Йр╕Ыр╕Бр╕Хр╕┤
- **Destinations:** р╣Бр╕кр╕Фр╕Зр╕кр╕Цр╕▓р╕Щр╕Чр╕╡р╣Ир╣Др╕Фр╣Й 5 р╣Бр╕лр╣Ир╕З
- **Chat History:** р╣Вр╕лр╕ер╕Фр╕Ыр╕гр╕░р╕зр╕▒р╕Хр╕┤р╣Бр╕Кр╕Чр╣Др╕Фр╣Й 8 messages

### **тЪая╕П Warning (р╣Др╕бр╣Ир╕Бр╕гр╕░р╕Чр╕Ър╕Бр╕▓р╕гр╕Чр╕│р╕Зр╕▓р╕Щ):**
- **chat_sessions table:** р╣Др╕бр╣Ир╕бр╕╡р╣Гр╕Щр╕Рр╕▓р╕Щр╕Вр╣Йр╕нр╕бр╕╣р╕е (р╕Ир╕▒р╕Фр╕Бр╕▓р╕гр╣Бр╕ер╣Йр╕з)
- **Google Maps Marker:** deprecated warning (р╣Др╕бр╣Ир╕Бр╕гр╕░р╕Чр╕Ър╕Бр╕▓р╕гр╕Чр╕│р╕Зр╕▓р╕Щ)

## ЁЯОп **р╕Др╕зр╕▓р╕бр╕кр╕▓р╕бр╕▓р╕гр╕Цр╕Чр╕╡р╣Ир╕Юр╕гр╣Йр╕нр╕бр╣Гр╕Кр╣Йр╕Зр╕▓р╕Щ:**

### **1. Authentication:**
- тЬЕ **Email/Password Sign In**
- тЬЕ **Email/Password Sign Up**
- тЬЕ **Google Sign In**
- тЬЕ **Google Sign Up**
- тЬЕ **Sign Out**

### **2. Guest Migration:**
- тЬЕ **р╕вр╣Йр╕▓р╕в trips** р╕Ир╕▓р╕Б guest р╣Ар╕Ыр╣Зр╕Щ user
- тЬЕ **р╕вр╣Йр╕▓р╕в destinations** р╕Ир╕▓р╕Б guest р╣Ар╕Ыр╣Зр╕Щ user
- тЬЕ **р╕вр╣Йр╕▓р╕в chat messages** р╕Ир╕▓р╕Б guest р╣Ар╕Ыр╣Зр╕Щ user
- тЬЕ **Clear guest_id** р╕лр╕ер╕▒р╕З migration

### **3. User Experience:**
- тЬЕ **р╕лр╕Щр╣Йр╕▓р╣Бр╕гр╕Бр╕бр╕╡ Google Sign In**
- тЬЕ **LoginModal р╕бр╕╡ Google buttons**
- тЬЕ **Auth Callback page**
- тЬЕ **Error handling**

## ЁЯТб **р╕Хр╕▒р╕зр╕нр╕вр╣Ир╕▓р╕Зр╕Бр╕▓р╕гр╣Гр╕Кр╣Йр╕Зр╕▓р╕Щ:**

### **1. р╕лр╕Щр╣Йр╕▓р╣Бр╕гр╕Б:**
- р╕Бр╕Фр╕Ыр╕╕р╣Ир╕б "р╣Ар╕Вр╣Йр╕▓р╕кр╕╣р╣Ир╕гр╕░р╕Ър╕Ъ" тЖТ р╣Ар╕Ыр╕┤р╕Ф LoginModal
- р╣Ар╕ер╕╖р╕нр╕Б "р╣Ар╕Вр╣Йр╕▓р╕кр╕╣р╣Ир╕гр╕░р╕Ър╕Ър╕Фр╣Йр╕зр╕в Google" тЖТ redirect р╣Др╕Ы Google OAuth
- р╕вр╕╖р╕Щр╕вр╕▒р╕Щр╣Гр╕Щ Google тЖТ redirect р╕Бр╕ер╕▒р╕Ър╕бр╕▓р╕Чр╕╡р╣И `/auth/callback`
- р╕гр╕░р╕Ър╕Ър╕вр╣Йр╕▓р╕вр╕Вр╣Йр╕нр╕бр╕╣р╕е тЖТ р╣Ар╕Вр╣Йр╕▓р╕кр╕╣р╣Ир╕гр╕░р╕Ър╕Ър╕кр╕│р╣Ар╕гр╣Зр╕И

### **2. Guest Migration:**
- р╕кр╕гр╣Йр╕▓р╕Зр╕Чр╕гр╕┤р╕Ыр╣Гр╕Щр╣Вр╕лр╕бр╕Ф guest тЖТ р╕Ър╕▒р╕Щр╕Чр╕╢р╕Бр╣Гр╕Щр╕Рр╕▓р╕Щр╕Вр╣Йр╕нр╕бр╕╣р╕е
- р╣Ар╕Вр╣Йр╕▓р╕кр╕╣р╣Ир╕гр╕░р╕Ър╕Ър╕Фр╣Йр╕зр╕в Google тЖТ р╕гр╕░р╕Ър╕Ър╕вр╣Йр╕▓р╕вр╕Вр╣Йр╕нр╕бр╕╣р╕ер╕нр╕▒р╕Хр╣Вр╕Щр╕бр╕▒р╕Хр╕┤
- р╕Чр╕гр╕┤р╕Ыр╕Цр╕╣р╕Бр╕вр╣Йр╕▓р╕вр╕бр╕▓р╕Чр╕╡р╣И user account тЖТ р╕Юр╕гр╣Йр╕нр╕бр╣Гр╕Кр╣Йр╕Зр╕▓р╕Щ

## ЁЯЪА **р╕кр╕гр╕╕р╕Ы:**

р╕Хр╕нр╕Щр╕Щр╕╡р╣Йр╕гр╕░р╕Ър╕Ъ Google Sign In р╕Юр╕гр╣Йр╕нр╕бр╣Гр╕Кр╣Йр╕Зр╕▓р╕Щр╕кр╕бр╕Ър╕╣р╕гр╕Ур╣Мр╣Бр╕ер╣Йр╕з! р╕Ьр╕╣р╣Йр╣Гр╕Кр╣Йр╕кр╕▓р╕бр╕▓р╕гр╕Ц:

1. **р╣Ар╕Вр╣Йр╕▓р╕кр╕╣р╣Ир╕гр╕░р╕Ър╕Ър╕Фр╣Йр╕зр╕в Google** р╕Ир╕▓р╕Бр╕лр╕Щр╣Йр╕▓р╣Бр╕гр╕Б
2. **р╕кр╕бр╕▒р╕Др╕гр╕кр╕бр╕▓р╕Кр╕┤р╕Бр╕Фр╣Йр╕зр╕в Google** р╕Ир╕▓р╕Бр╕лр╕Щр╣Йр╕▓р╣Бр╕гр╕Б
3. **р╕вр╣Йр╕▓р╕вр╕Вр╣Йр╕нр╕бр╕╣р╕ер╕Ир╕▓р╕Б guest р╣Ар╕Ыр╣Зр╕Щ user** р╕нр╕▒р╕Хр╣Вр╕Щр╕бр╕▒р╕Хр╕┤
4. **р╣Гр╕Кр╣Йр╕Зр╕▓р╕Щр╕гр╕░р╕Ър╕Ър╣Др╕Фр╣Йр╕Ыр╕Бр╕Хр╕┤** р╕лр╕ер╕▒р╕Зр╣Ар╕Вр╣Йр╕▓р╕кр╕╣р╣Ир╕гр╕░р╕Ър╕Ъ

р╕гр╕░р╕Ър╕Ър╕Юр╕гр╣Йр╕нр╕бр╣Гр╕Кр╣Йр╕Зр╕▓р╕Щр╣Бр╕ер╣Йр╕зр╕Др╕гр╕▒р╕Ъ! ЁЯОЙ
