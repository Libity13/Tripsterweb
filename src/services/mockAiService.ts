// Mock AI Service for development
export interface ChatMessage {
  id?: string;
  role: 'user' | 'assistant' | 'system';
  content: string;
  content_en?: string;
  language?: string;
  created_at?: string;
}

export interface AIResponse {
  success: boolean;
  response: string;
  suggestLogin?: boolean;
  loginReason?: string;
  error?: string;
}

export const mockAiService = {
  // Mock AI responses
  async sendMessage(message: string, context?: any, language: string = 'th'): Promise<AIResponse> {
    console.log('ü§ñ Using Mock AI Service for development');
    // Simulate API delay
    await new Promise(resolve => setTimeout(resolve, 1000 + Math.random() * 2000));

    // Mock responses based on message content
    const responses = {
      '‡∏™‡∏ß‡∏±‡∏™‡∏î‡∏µ': '‡∏™‡∏ß‡∏±‡∏™‡∏î‡∏µ‡∏Ñ‡∏£‡∏±‡∏ö! ‡∏ú‡∏°‡∏Ñ‡∏∑‡∏≠ AI Travel Assistant ‡∏ó‡∏µ‡πà‡∏à‡∏∞‡∏ä‡πà‡∏ß‡∏¢‡∏ß‡∏≤‡∏á‡πÅ‡∏ú‡∏ô‡∏Å‡∏≤‡∏£‡πÄ‡∏î‡∏¥‡∏ô‡∏ó‡∏≤‡∏á‡πÉ‡∏´‡πâ‡∏Ñ‡∏∏‡∏ì ‡∏ö‡∏≠‡∏Å‡∏ú‡∏°‡πÑ‡∏î‡πâ‡πÄ‡∏•‡∏¢‡∏ß‡πà‡∏≤‡∏Ñ‡∏∏‡∏ì‡∏≠‡∏¢‡∏≤‡∏Å‡πÑ‡∏õ‡πÄ‡∏ó‡∏µ‡πà‡∏¢‡∏ß‡∏ó‡∏µ‡πà‡πÑ‡∏´‡∏ô!',
      '‡πÄ‡∏ó‡∏µ‡πà‡∏¢‡∏ß‡∏Å‡∏£‡∏∏‡∏á‡πÄ‡∏ó‡∏û': '‡πÄ‡∏¢‡∏µ‡πà‡∏¢‡∏°‡πÄ‡∏•‡∏¢! ‡∏Å‡∏£‡∏∏‡∏á‡πÄ‡∏ó‡∏û‡∏°‡∏µ‡∏™‡∏ñ‡∏≤‡∏ô‡∏ó‡∏µ‡πà‡∏ó‡πà‡∏≠‡∏á‡πÄ‡∏ó‡∏µ‡πà‡∏¢‡∏ß‡∏°‡∏≤‡∏Å‡∏°‡∏≤‡∏¢ ‡∏ú‡∏°‡πÅ‡∏ô‡∏∞‡∏ô‡∏≥‡πÉ‡∏´‡πâ‡πÑ‡∏õ:\n\nüìç ‡∏ß‡∏±‡∏î‡πÇ‡∏û‡∏ò‡∏¥‡πå - ‡∏ß‡∏±‡∏î‡πÇ‡∏ö‡∏£‡∏≤‡∏ì‡∏ó‡∏µ‡πà‡∏°‡∏µ‡∏û‡∏£‡∏∞‡∏û‡∏∏‡∏ó‡∏ò‡πÑ‡∏™‡∏¢‡∏≤‡∏™‡∏ô‡πå\nüìç ‡∏û‡∏£‡∏∞‡∏ö‡∏£‡∏°‡∏°‡∏´‡∏≤‡∏£‡∏≤‡∏ä‡∏ß‡∏±‡∏á - ‡∏û‡∏£‡∏∞‡∏£‡∏≤‡∏ä‡∏ß‡∏±‡∏á‡πÄ‡∏Å‡πà‡∏≤‡∏ó‡∏µ‡πà‡∏™‡∏ß‡∏¢‡∏á‡∏≤‡∏°\nüìç ‡∏ï‡∏•‡∏≤‡∏î‡∏ô‡∏±‡∏î‡∏à‡∏ï‡∏∏‡∏à‡∏±‡∏Å‡∏£ - ‡∏ï‡∏•‡∏≤‡∏î‡∏ô‡∏±‡∏î‡∏ó‡∏µ‡πà‡πÉ‡∏´‡∏ç‡πà‡∏ó‡∏µ‡πà‡∏™‡∏∏‡∏î‡πÉ‡∏ô‡πÇ‡∏•‡∏Å\n\n‡∏Ñ‡∏∏‡∏ì‡∏≠‡∏¢‡∏≤‡∏Å‡πÑ‡∏õ‡∏Å‡∏µ‡πà‡∏ß‡∏±‡∏ô‡∏Ñ‡∏£‡∏±‡∏ö?',
      '3 ‡∏ß‡∏±‡∏ô': '‡πÄ‡∏¢‡∏µ‡πà‡∏¢‡∏°‡πÄ‡∏•‡∏¢! ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö 3 ‡∏ß‡∏±‡∏ô‡πÉ‡∏ô‡∏Å‡∏£‡∏∏‡∏á‡πÄ‡∏ó‡∏û ‡∏ú‡∏°‡πÅ‡∏ô‡∏∞‡∏ô‡∏≥‡πÅ‡∏ú‡∏ô‡∏Å‡∏≤‡∏£‡πÄ‡∏î‡∏¥‡∏ô‡∏ó‡∏≤‡∏á:\n\nüóìÔ∏è **‡∏ß‡∏±‡∏ô 1**: ‡∏ß‡∏±‡∏î‡πÇ‡∏û‡∏ò‡∏¥‡πå ‚Üí ‡∏û‡∏£‡∏∞‡∏ö‡∏£‡∏°‡∏°‡∏´‡∏≤‡∏£‡∏≤‡∏ä‡∏ß‡∏±‡∏á ‚Üí ‡∏ß‡∏±‡∏î‡∏≠‡∏£‡∏∏‡∏ì\nüóìÔ∏è **‡∏ß‡∏±‡∏ô 2**: ‡∏ï‡∏•‡∏≤‡∏î‡∏ô‡∏±‡∏î‡∏à‡∏ï‡∏∏‡∏à‡∏±‡∏Å‡∏£ ‚Üí MBK Center ‚Üí ‡∏™‡∏¢‡∏≤‡∏°‡∏û‡∏≤‡∏£‡∏≤‡∏Å‡∏≠‡∏ô\nüóìÔ∏è **‡∏ß‡∏±‡∏ô 3**: ‡∏ï‡∏•‡∏≤‡∏î‡∏ô‡πâ‡∏≥ ‚Üí ‡∏ß‡∏±‡∏î‡∏û‡∏£‡∏∞‡πÅ‡∏Å‡πâ‡∏ß ‚Üí ‡∏ñ‡∏ô‡∏ô‡∏Ç‡πâ‡∏≤‡∏ß‡∏™‡∏≤‡∏£\n\n‡∏Ñ‡∏∏‡∏ì‡∏ä‡∏≠‡∏ö‡πÅ‡∏ú‡∏ô‡∏ô‡∏µ‡πâ‡πÑ‡∏´‡∏°‡∏Ñ‡∏£‡∏±‡∏ö? ‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡∏õ‡∏£‡∏±‡∏ö‡πÅ‡∏Å‡πâ‡∏≠‡∏∞‡πÑ‡∏£‡∏ö‡πâ‡∏≤‡∏á?',
      '‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å': '‡πÅ‡∏ú‡∏ô‡∏Å‡∏≤‡∏£‡πÄ‡∏î‡∏¥‡∏ô‡∏ó‡∏≤‡∏á‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏∏‡∏ì‡∏û‡∏£‡πâ‡∏≠‡∏°‡πÅ‡∏•‡πâ‡∏ß! üéâ\n\n‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡πÅ‡∏ú‡∏ô‡∏ô‡∏µ‡πâ‡πÑ‡∏ß‡πâ‡∏î‡∏π‡πÉ‡∏´‡∏°‡πà‡πÑ‡∏î‡πâ ‡∏ú‡∏°‡πÅ‡∏ô‡∏∞‡∏ô‡∏≥‡πÉ‡∏´‡πâ‡πÄ‡∏Ç‡πâ‡∏≤‡∏™‡∏π‡πà‡∏£‡∏∞‡∏ö‡∏ö‡∏Å‡πà‡∏≠‡∏ô ‡∏à‡∏∞‡πÑ‡∏î‡πâ:\n‚úÖ ‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡πÅ‡∏ú‡∏ô‡πÑ‡∏ß‡πâ‡∏î‡∏π‡πÉ‡∏´‡∏°‡πà‡πÑ‡∏î‡πâ\n‚úÖ ‡πÅ‡∏ä‡∏£‡πå‡∏Å‡∏±‡∏ö‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏ô/‡∏Ñ‡∏£‡∏≠‡∏ö‡∏Ñ‡∏£‡∏±‡∏ß\n‚úÖ ‡∏™‡πà‡∏á‡∏≠‡∏≠‡∏Å‡πÄ‡∏õ‡πá‡∏ô PDF\n\n[‡πÄ‡∏Ç‡πâ‡∏≤‡∏™‡∏π‡πà‡∏£‡∏∞‡∏ö‡∏ö] [‡∏Ç‡πâ‡∏≤‡∏° - ‡∏î‡∏π‡πÅ‡∏ú‡∏ô‡∏ï‡πà‡∏≠]',
      '‡πÄ‡∏ä‡∏µ‡∏¢‡∏á‡πÉ‡∏´‡∏°‡πà': '‡πÄ‡∏ä‡∏µ‡∏¢‡∏á‡πÉ‡∏´‡∏°‡πà‡πÄ‡∏õ‡πá‡∏ô‡πÄ‡∏°‡∏∑‡∏≠‡∏á‡∏ó‡∏µ‡πà‡∏™‡∏ß‡∏¢‡∏á‡∏≤‡∏°‡∏°‡∏≤‡∏Å! ‡∏ú‡∏°‡πÅ‡∏ô‡∏∞‡∏ô‡∏≥‡πÉ‡∏´‡πâ‡πÑ‡∏õ:\n\nüìç ‡∏î‡∏≠‡∏¢‡∏™‡∏∏‡πÄ‡∏ó‡∏û - ‡∏ß‡∏±‡∏î‡∏ö‡∏ô‡∏î‡∏≠‡∏¢‡∏ó‡∏µ‡πà‡∏™‡∏ß‡∏¢‡∏á‡∏≤‡∏°\nüìç ‡∏ï‡∏•‡∏≤‡∏î‡∏ô‡∏±‡∏î‡∏Å‡∏•‡∏≤‡∏á‡∏Ñ‡∏∑‡∏ô - ‡∏ï‡∏•‡∏≤‡∏î‡∏ô‡∏±‡∏î‡∏ó‡∏µ‡πà‡∏°‡∏µ‡∏Ç‡∏≠‡∏á‡∏Ç‡∏≤‡∏¢‡∏´‡∏•‡∏≤‡∏Å‡∏´‡∏•‡∏≤‡∏¢\nüìç ‡∏ß‡∏±‡∏î‡πÄ‡∏ä‡∏µ‡∏¢‡∏á‡∏°‡∏±‡πà‡∏ô - ‡∏ß‡∏±‡∏î‡πÄ‡∏Å‡πà‡∏≤‡πÅ‡∏Å‡πà‡πÉ‡∏ô‡πÄ‡∏°‡∏∑‡∏≠‡∏á\n\n‡∏Ñ‡∏∏‡∏ì‡∏≠‡∏¢‡∏≤‡∏Å‡πÑ‡∏õ‡∏Å‡∏µ‡πà‡∏ß‡∏±‡∏ô‡∏Ñ‡∏£‡∏±‡∏ö?',
      '‡∏†‡∏π‡πÄ‡∏Å‡πá‡∏ï': '‡∏†‡∏π‡πÄ‡∏Å‡πá‡∏ï‡πÄ‡∏õ‡πá‡∏ô‡πÄ‡∏Å‡∏≤‡∏∞‡∏ó‡∏µ‡πà‡∏™‡∏ß‡∏¢‡∏á‡∏≤‡∏°! ‡∏ú‡∏°‡πÅ‡∏ô‡∏∞‡∏ô‡∏≥‡πÉ‡∏´‡πâ‡πÑ‡∏õ:\n\nüìç ‡∏´‡∏≤‡∏î‡∏õ‡πà‡∏≤‡∏ï‡∏≠‡∏á - ‡∏´‡∏≤‡∏î‡∏ó‡∏£‡∏≤‡∏¢‡∏™‡∏ß‡∏¢‡∏á‡∏≤‡∏°\nüìç ‡πÄ‡∏Å‡∏≤‡∏∞‡∏û‡∏µ‡∏û‡∏µ - ‡πÄ‡∏Å‡∏≤‡∏∞‡πÄ‡∏•‡πá‡∏Å‡πÜ ‡∏ó‡∏µ‡πà‡∏™‡∏ß‡∏¢‡∏á‡∏≤‡∏°\nüìç ‡∏†‡∏π‡πÄ‡∏Å‡πá‡∏ï‡∏ó‡∏≤‡∏ß‡∏ô‡πå - ‡πÄ‡∏°‡∏∑‡∏≠‡∏á‡πÄ‡∏Å‡πà‡∏≤‡∏ó‡∏µ‡πà‡∏°‡∏µ‡∏™‡∏ñ‡∏≤‡∏õ‡∏±‡∏ï‡∏¢‡∏Å‡∏£‡∏£‡∏°‡∏™‡∏ß‡∏¢‡∏á‡∏≤‡∏°\n\n‡∏Ñ‡∏∏‡∏ì‡∏≠‡∏¢‡∏≤‡∏Å‡πÑ‡∏õ‡∏Å‡∏µ‡πà‡∏ß‡∏±‡∏ô‡∏Ñ‡∏£‡∏±‡∏ö?'
    };

    // Find matching response
    let response = '‡∏Ç‡∏≠‡∏≠‡∏†‡∏±‡∏¢ ‡∏ú‡∏°‡πÑ‡∏°‡πà‡πÄ‡∏Ç‡πâ‡∏≤‡πÉ‡∏à‡∏Ñ‡∏≥‡∏ñ‡∏≤‡∏°‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏∏‡∏ì ‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡∏•‡∏≠‡∏á‡∏ñ‡∏≤‡∏°‡πÉ‡∏´‡∏°‡πà‡∏Ñ‡∏£‡∏±‡∏ö';
    let suggestLogin = false;

    for (const [keyword, reply] of Object.entries(responses)) {
      if (message.includes(keyword)) {
        response = reply;
        suggestLogin = message.includes('‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å') || message.includes('‡πÅ‡∏ä‡∏£‡πå') || message.includes('‡∏™‡πà‡∏á‡∏≠‡∏≠‡∏Å');
        break;
      }
    }

    // If no specific match, provide generic response
    if (response === '‡∏Ç‡∏≠‡∏≠‡∏†‡∏±‡∏¢ ‡∏ú‡∏°‡πÑ‡∏°‡πà‡πÄ‡∏Ç‡πâ‡∏≤‡πÉ‡∏à‡∏Ñ‡∏≥‡∏ñ‡∏≤‡∏°‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏∏‡∏ì ‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡∏•‡∏≠‡∏á‡∏ñ‡∏≤‡∏°‡πÉ‡∏´‡∏°‡πà‡∏Ñ‡∏£‡∏±‡∏ö') {
      response = '‡∏ô‡πà‡∏≤‡∏™‡∏ô‡πÉ‡∏à‡∏°‡∏≤‡∏Å‡∏Ñ‡∏£‡∏±‡∏ö! ‡∏ú‡∏°‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡∏ä‡πà‡∏ß‡∏¢‡∏ß‡∏≤‡∏á‡πÅ‡∏ú‡∏ô‡∏Å‡∏≤‡∏£‡πÄ‡∏î‡∏¥‡∏ô‡∏ó‡∏≤‡∏á‡πÉ‡∏´‡πâ‡∏Ñ‡∏∏‡∏ì‡πÑ‡∏î‡πâ\n\n‡∏•‡∏≠‡∏á‡∏ö‡∏≠‡∏Å‡∏ú‡∏°‡∏ß‡πà‡∏≤:\n‚Ä¢ ‡∏≠‡∏¢‡∏≤‡∏Å‡πÑ‡∏õ‡∏ó‡∏µ‡πà‡πÑ‡∏´‡∏ô?\n‚Ä¢ ‡πÑ‡∏õ‡∏Å‡∏µ‡πà‡∏ß‡∏±‡∏ô?\n‚Ä¢ ‡∏á‡∏ö‡∏õ‡∏£‡∏∞‡∏°‡∏≤‡∏ì‡πÄ‡∏ó‡πà‡∏≤‡πÑ‡∏´‡∏£‡πà?\n‚Ä¢ ‡πÑ‡∏õ‡∏Å‡∏±‡∏ö‡πÉ‡∏Ñ‡∏£? (‡∏Ñ‡∏£‡∏≠‡∏ö‡∏Ñ‡∏£‡∏±‡∏ß, ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏ô, ‡∏Ñ‡∏π‡πà‡∏£‡∏±‡∏Å)';
    }

    return {
      success: true,
      response,
      suggestLogin,
      loginReason: suggestLogin ? '‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡πÅ‡∏ú‡∏ô‡∏Å‡∏≤‡∏£‡πÄ‡∏î‡∏¥‡∏ô‡∏ó‡∏≤‡∏á' : null
    };
  },

  // Mock chat history
  async getChatHistory(tripId?: string): Promise<ChatMessage[]> {
    return [];
  },

  // Mock save message
  async saveMessage(message: ChatMessage, tripId?: string): Promise<ChatMessage> {
    return message;
  },

  // Mock recommendations
  async getRecommendations(userId: string, tripId?: string): Promise<any[]> {
    return [];
  }
};
